<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—á–µ—Ç –≤–æ–¥—ã - –¢—Ä–µ–∫–µ—Ä –∑–¥–æ—Ä–æ–≤—å—è</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="header">
        <a href="dashboard.html" class="back">‚Üê –ù–∞–∑–∞–¥</a>
    </div>
    
    <div class="container container-small text-center">
        <div class="page-title">–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –≤–æ–¥—ã</div>
        
        <div class="water-display">
            <div class="water-value" id="waterValue">1800 –º–ª</div>
            <div class="water-goal">–∏–∑ 2500 –º–ª</div>
            <div class="progress-bar" style="max-width: 400px; margin: 0 auto;">
                <div class="progress-fill" id="waterProgress" style="width: 72%"></div>
            </div>
        </div>
        
        <div class="counter">
            <button class="counter-btn" onclick="decreaseAmount()">‚àí</button>
            <div class="counter-value" id="amount">250</div>
            <button class="counter-btn" onclick="increaseAmount()">+</button>
        </div>
        
        <button class="button" style="max-width: 400px; margin: 0 auto;" onclick="addWater()">–î–æ–±–∞–≤–∏—Ç—å</button>
    </div>
    <script src="js/main.js"></script>
    <script>
        let amount = 250;
        const goal = 2500;
        
        const today = new Date().toISOString().split('T')[0];
        const dailyData = JSON.parse(localStorage.getItem(`healthTracker_${today}`) || '{}');
        let totalWater = dailyData.water || 0;
        
        updateDisplay();
        
        function decreaseAmount() {
            if (amount > 50) {
                amount -= 50;
                document.getElementById('amount').textContent = amount;
            }
        }
        
        function increaseAmount() {
            amount += 50;
            document.getElementById('amount').textContent = amount;
        }
        
        function addWater() {
            totalWater += amount;
            
            const today = new Date().toISOString().split('T')[0];
            const dailyData = JSON.parse(localStorage.getItem(`healthTracker_${today}`) || '{}');
            dailyData.water = totalWater;
            localStorage.setItem(`healthTracker_${today}`, JSON.stringify(dailyData));
            
            updateDisplay();
            
            if (totalWater >= goal) {
                alert('üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í—ã –¥–æ—Å—Ç–∏–≥–ª–∏ –¥–Ω–µ–≤–Ω–æ–π —Ü–µ–ª–∏ –ø–æ –≤–æ–¥–µ!');
            } else {
                alert(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${amount} –º–ª`);
            }
        }
        
        function updateDisplay() {
            document.getElementById('waterValue').textContent = `${totalWater} –º–ª`;
            const progress = Math.min((totalWater / goal) * 100, 100);
            document.getElementById('waterProgress').style.width = `${progress}%`;
        }
    </script>
</body>
</html>